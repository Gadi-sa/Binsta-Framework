{% extends 'layouts/app.twig' %}

{% block content %}
	<div class="profile-edit  py-10 h-screen">
		<form
			action="/user/editProfile/{{ session.user_id }}" method="post" enctype="multipart/form-data" class="max-w-lg mx-auto bg-white p-6 rounded-lg shadow-lg data-aos="fade-left"">
			{# Button placed at top right corner #}
			<div class="py-4 relative">
				<a href="/feed" class="absolute top-0 right-0 hover:text-red-600 shadow-lg">
					<button type="button">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" style=" box-shadow: 0 5px 10px 0; border-radius: 20px;">
							<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
						</svg>
					</button>
				</a>
			</div>


			{# Profile Picture Input #}
			<div class="grid grid-cols-4 gap-4 ">

				<div class="mb-4 col-span-1">
					<label for="profile_picture" class="block mb-2 text-sm font-medium text-gray-900">Change Avatar</label>
					<img src="/images/profiles/{{ user.profile_picture |default('User-Profile.png') }}" alt="Profile Picture" class="w-16 h-16 rounded-full mx-auto">
				</div>
				<div class="py-10 col-span-3">
					<input type="file" id="profile_picture" name="profile_picture" accept="image/*" class="block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border  border-gray-300 cursor-pointer focus:outline-none">
				</div>
			</div>
			<div class="grid grid-cols-2 gap-4">
				{# Username Input #}
				<div class="mb-4">
					<label for="username" class="block mb-2 text-sm font-medium text-gray-900">Username</label>
					<input type="text" id="username" name="username" value="{{ user.username }}" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2">
				</div>

				{# Email Input #}
				<div class="mb-4">
					<label for="email" class="block mb-2 text-sm font-medium text-gray-900">Email</label>
					<input type="email" id="email" name="email" value="{{ user.email }}" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2">
				</div>
			</div>

			{# Password Input #}
			<div class="grid grid-cols-2 gap-4">
				<div class="mb-4">
					<label for="password" class="block mb-2 text-sm font-medium text-gray-900">Password
						<span class="text-gray-300 text-xs  mt-1 mr-2">Optional</span>
					</label>
					<input type="password" id="password" name="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2">
				</div>

				{# Confirm Password Input #}
				<div class="mb-4">
					<label for="confirm_password" class="block mb-2 text-sm font-medium text-gray-900">Confirm password <span class="text-gray-300 text-xs  mt-1 mr-2">Optional</span></label>
					<input type="password" id="confirm_password" name="confirm_password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2">
				</div>
			</div>

			{# Biography Input #}
			<div class="mb-6">
				<label for="biography" class="block mb-2 text-sm font-medium text-gray-900">Biography</label>
				<textarea id="biography" name="biography" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2" rows="4">{{ user.biography }}</textarea>
			</div>


			{# submit Buttons #}
			<div class="">
				<button type="submit" class="">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 hover:text-green-700" style=" box-shadow: 0 5px 10px 0; border-radius: 20px;">
						<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
					</svg>
				</button>
			</div>


			{# Error and Success Messages #}
			{% if error %}
				<div class="mt-4 bg-red-500 text-white text-sm rounded-lg p-2">{{ error }}</div>
			{% endif %}
			{% if success %}
				<div class="mt-4 bg-green-500 text-white text-sm rounded-lg p-2">{{ success }}</div>
			{% endif %}
		</form>
	</div>
{% endblock %}
